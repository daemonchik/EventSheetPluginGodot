{
	"sheet_name": "Player Control Events",
	"description": "События управления игроком",
	"blocks": [
		{
			"target_object": "Player",
			"object_type": "CharacterBody2D", 
			"condition": {
				"condition_type": "scene_ready",
				"parameters": {},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "set_property",
					"parameters": {
						"property": "position",
						"value": {"x": 100, "y": 200}
					},
					"delay": 0.0
				},
				{
					"action_type": "print_message",
					"parameters": {
						"message": "Игрок инициализирован!"
					},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Инициализация позиции игрока",
			"block_id": "block_init_player"
		},
		{
			"target_object": "Player",
			"object_type": "CharacterBody2D",
			"condition": {
				"condition_type": "key_pressed",
				"parameters": {
					"key": "ui_right"
				},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "move_by",
					"parameters": {
						"offset": {"x": 200, "y": 0}
					},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Движение вправо",
			"block_id": "block_move_right"
		},
		{
			"target_object": "Player",
			"object_type": "CharacterBody2D",
			"condition": {
				"condition_type": "key_pressed",
				"parameters": {
					"key": "ui_left"
				},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "move_by",
					"parameters": {
						"offset": {"x": -200, "y": 0}
					},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Движение влево",
			"block_id": "block_move_left"
		},
		{
			"target_object": "Player",
			"object_type": "CharacterBody2D",
			"condition": {
				"condition_type": "is_on_floor",
				"parameters": {},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "set_property",
					"parameters": {
						"property": "modulate",
						"value": {"r": 1.0, "g": 1.0, "b": 1.0, "a": 1.0}
					},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Сброс цвета когда на полу",
			"block_id": "block_on_floor"
		},
		{
			"target_object": "JumpButton",
			"object_type": "Button",
			"condition": {
				"condition_type": "button_pressed",
				"parameters": {},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "call_method",
					"parameters": {
						"method": "jump",
						"args": []
					},
					"delay": 0.0
				},
				{
					"action_type": "play_sound",
					"parameters": {},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Прыжок по кнопке",
			"block_id": "block_jump_button"
		},
		{
			"target_object": "HealthBar",
			"object_type": "ProgressBar",
			"condition": {
				"condition_type": "variable_compare",
				"parameters": {
					"variable": "health",
					"operation": "<=",
					"value": 0
				},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "set_visible",
					"parameters": {
						"visible": false
					},
					"delay": 0.0
				},
				{
					"action_type": "change_scene",
					"parameters": {
						"scene": "res://GameOver.tscn"
					},
					"delay": 1.0
				}
			],
			"enabled": true,
			"comment": "Переход к Game Over когда здоровье = 0",
			"block_id": "block_game_over"
		},
		{
			"target_object": "Enemy",
			"object_type": "Area2D",
			"condition": {
				"condition_type": "collision_entered",
				"parameters": {},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "set_property",
					"parameters": {
						"property": "modulate",
						"value": {"r": 1.0, "g": 0.0, "b": 0.0, "a": 1.0}
					},
					"delay": 0.0
				},
				{
					"action_type": "apply_impulse",
					"parameters": {
						"impulse": {"x": 0, "y": -300}
					},
					"delay": 0.0
				},
				{
					"action_type": "print_message",
					"parameters": {
						"message": "Игрок получил урон!"
					},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Столкновение с врагом",
			"block_id": "block_enemy_hit"
		},
		{
			"target_object": "AnimationPlayer",
			"object_type": "AnimationPlayer",
			"condition": {
				"condition_type": "animation_finished",
				"parameters": {
					"animation": "death"
				},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "instance_scene",
					"parameters": {
						"scene": "res://DeathEffect.tscn",
						"parent": "."
					},
					"delay": 0.0
				},
				{
					"action_type": "destroy",
					"parameters": {},
					"delay": 2.0
				}
			],
			"enabled": true,
			"comment": "После анимации смерти",
			"block_id": "block_death_finished"
		},
		{
			"target_object": "Timer",
			"object_type": "Timer",
			"condition": {
				"condition_type": "timer_timeout",
				"parameters": {},
				"inverted": false
			},
			"actions": [
				{
					"action_type": "instance_scene",
					"parameters": {
						"scene": "res://PowerUp.tscn",
						"parent": "."
					},
					"delay": 0.0
				},
				{
					"action_type": "start_timer",
					"parameters": {
						"time": 10.0
					},
					"delay": 0.0
				}
			],
			"enabled": true,
			"comment": "Создание PowerUp каждые 10 секунд",
			"block_id": "block_powerup_spawn"
		}
	],
	"global_variables": {
		"score": 0,
		"health": 100,
		"level": 1,
		"powerup_count": 0
	}
}